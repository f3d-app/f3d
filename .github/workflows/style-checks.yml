name: Style Checks
on: [push, pull_request]
jobs:

  formatting-check:
    name: Formatting Check
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: DoozyX/clang-format-lint-action@v0.13
      with:
        source: 'library application python'
        extensions: 'h,cxx'
        clangFormatVersion: 13

  codespell-check:
    name: Codespell Check
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: codespell-project/actions-codespell@v1.0
      with:
        check_filenames: true
        check_hidden: true

  public-api-check:
    name: Public API Check
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Comment in PR
        uses: thollander/actions-comment-pull-request@v2
        with:
          message: |
            :warning: Looks like your are modifying libf3d public API. Please make sure to update all bindings as well !
